# ====================
# Neural Chat Engine - Environment Configuration
# ====================

# ====================
# ENVIRONMENT GENERAL
# ====================
ENVIRONMENT=development
DEBUG=true

# ====================
# DATABASE POSTGRESQL
# ====================
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_USER=neural_user
POSTGRES_PASSWORD=neural_pass_2023_dev
POSTGRES_DB=neural_chat_db
POSTGRES_SCHEMA=public

# Pool de connexions
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20
POSTGRES_POOL_TIMEOUT=30

# ====================
# REDIS CACHE
# ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_pass_2023_dev
REDIS_DB=0
REDIS_SSL=false

# Cache configuration
REDIS_CACHE_TTL=3600
REDIS_SESSION_TTL=86400
REDIS_MAX_CONNECTIONS=50
REDIS_RETRY_ON_TIMEOUT=true

# ====================
# VECTOR DATABASE
# ====================
VECTOR_DB_TYPE=weaviate
VECTOR_DIMENSION=384
SIMILARITY_THRESHOLD=0.7
MAX_VECTOR_RESULTS=10

# Weaviate
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=neural-chat-key
WEAVIATE_CLASS_NAME=ConversationVector

# Pinecone (alternative)
# PINECONE_API_KEY=your-pinecone-key
# PINECONE_ENVIRONMENT=your-pinecone-env
# PINECONE_INDEX_NAME=neural-chat-vectors

# ====================
# AI MODELS CONFIGURATION
# ====================

# Intent Classification
INTENT_MODEL_NAME=distilbert-base-multilingual-cased
INTENT_MAX_LENGTH=128
INTENT_BATCH_SIZE=32

# Response Generation
RESPONSE_MODEL_PROVIDER=huggingface
RESPONSE_MODEL_NAME=microsoft/DialoGPT-medium
RESPONSE_MAX_LENGTH=512
RESPONSE_TEMPERATURE=0.7
RESPONSE_TOP_P=0.9
RESPONSE_TOP_K=50

# Embeddings
EMBEDDING_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_MODEL_DEVICE=cpu

# GPU Configuration
USE_GPU=false
GPU_MEMORY_FRACTION=0.8

# Model Cache
MODEL_CACHE_DIR=./models
ENABLE_MODEL_CACHING=true

# ====================
# API KEYS (TO BE FILLED)
# ====================

# OpenAI
# OPENAI_API_KEY=sk-your-openai-api-key
# OPENAI_ORGANIZATION=your-org-id

# Anthropic Claude
# ANTHROPIC_API_KEY=your-anthropic-key

# Cohere
# COHERE_API_KEY=your-cohere-key

# Hugging Face
# HUGGINGFACE_TOKEN=your-hf-token

# Monitoring
# WANDB_API_KEY=your-wandb-key
WANDB_PROJECT=neural-chat-engine

# Security
JWT_SECRET_KEY=development-secret-key-change-in-production-please-make-it-long-and-secure
# ENCRYPTION_KEY=your-encryption-key

# ====================
# API SERVER
# ====================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# CORS
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8501", "http://127.0.0.1:3000"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Security
ALLOWED_HOSTS=["*"]
TRUSTED_PROXIES=[]

# ====================
# LOGGING
# ====================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
# LOG_FILE=./logs/neural-chat.log
LOG_MAX_SIZE=10485760
LOG_BACKUP_COUNT=5

# Specialized logging
ENABLE_REQUEST_LOGGING=true
ENABLE_SQL_LOGGING=false
ENABLE_MODEL_LOGGING=true

# Monitoring
# SENTRY_DSN=your-sentry-dsn
ENABLE_SENTRY=false

# ====================
# CELERY ASYNC TASKS
# ====================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]

# Task configuration
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600
CELERY_TASK_MAX_RETRIES=3
CELERY_TASK_RETRY_DELAY=60

# ====================
# FEATURE FLAGS
# ====================
ENABLE_CONVERSATION_MEMORY=true
ENABLE_PERSONALITY_ADAPTATION=true
ENABLE_EMOTION_ANALYSIS=true
ENABLE_MULTILINGUAL=true
ENABLE_ANALYTICS=true

# ====================
# DEVELOPMENT SETTINGS
# ====================
# Utilisé uniquement en développement
DEV_AUTO_RELOAD=true
DEV_MOCK_EXTERNAL_APIS=false
DEV_ENABLE_DEBUG_TOOLBAR=true